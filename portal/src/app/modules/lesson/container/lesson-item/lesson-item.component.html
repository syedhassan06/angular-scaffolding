<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <div
        class="pageHeader d-flex justify-content-between bd-highlight mb-3 pb-3"
      >
        <h2>{{ page[action]['title'] }}</h2>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb customBreadcrumb">
          <li class="breadcrumb-item">
            <a routerLink="/lesson/manage">All Lessons</a>
          </li>
          <li class="breadcrumb-item active">
            <a routerLink="/lesson/create">Lesson</a>
          </li>
        </ol>
      </nav>
    </div>
    <div class="col-md-12">
      <div class="createCourse">
        <div class="card">
          <div class="card-body">
            <form action="">
              <div class="row" [formGroup]="lessonForm">
                <div class="col-md-12 mb-3">
                  <label>Lesson Title</label>
                  <input
                    class="form-control"
                    type="text"
                    placeholder="Title"
                    formControlName="title"
                    lmsValidationBorder
                  />
                  <div class="invalid-feedback" ngxErrors="title">
                    <div when="touched" [ngxError]="['required', 'title']">
                      Title field is required
                    </div>
                  </div>
                </div>
                <div class="col-md-12 mb-3">
                  <label>Resource</label>
                  <p-dropdown
                    [options]="resources"
                    [styleClass]="
                      this.lessonForm.get('resource_id').touched &&
                      this.lessonForm.get('resource_id').invalid &&
                      'is-invalid'
                    "
                    formControlName="resource_id"
                    placeholder="Select Resource"
                    optionLabel="name"
                    [showClear]="true"
                    [style]="{ width: '100%' }"
                    filter="true"
                    showClear="true"
                    filterPlaceholder="Select Resource"
                  ></p-dropdown>
                  <div
                    class="invalid-feedback"
                    [ngClass]="{
                      'd-block':
                        this.lessonForm.get('resource_id').touched &&
                        this.lessonForm.get('resource_id').invalid
                    }"
                  >
                    Resource field is required
                  </div>
                </div>
              </div>
              <div class="componentHolder d-none">
                <div class="componentRow">
                  <ng-container #quizContainer> </ng-container>
                </div>
                <div class="componentRow">
                  <ng-container #documentContainer> </ng-container>
                </div>
                <div class="componentRow">
                  <ng-container #mediaContainer> </ng-container>
                </div>
              </div>
              <div class="componentHolder d-none">
                <div class="componentRow">
                  <h6 class="border-bottom mt-3 pb-2">
                    <i class="fas fa-file"></i> Document
                  </h6>
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <div class="materialListSec mt-2">
                        <div class="materialListRow mb-2">
                          <b>2-10-15 Coast Compliance Audit Checklist.pdf</b>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 25%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                        <div class="materialListRow mb-2">
                          <b>ARMD Article - Marketing Compliance.pdf</b>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 55%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                        <div class="materialListRow">
                          <b> ARMD Article - Military Lending Act Update.pdf</b>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 80%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                      </div>
                      <div class="custom-file mt-4">
                        <input
                          type="file"
                          class="custom-file-input"
                          id="customFile"
                        />
                        <label class="custom-file-label" for="customFile"
                          >Choose file</label
                        >
                      </div>
                      <small class="text-muted"
                        >You can Upload any type of Document</small
                      >
                    </div>
                  </div>
                </div>
                <div class="componentRow">
                  <h6 class="border-bottom mt-3 pb-2">
                    <i class="fas fa-file"></i> Multimedia
                  </h6>
                  <div class="row">
                    <div class="col-md-12 mb-3">
                      <div class="materialListSec mt-2">
                        <div class="materialListRow mb-2">
                          <div class="mediaAvatarSec">
                            <img src="assets/img/player-bar.jpg" alt="media" />
                          </div>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 25%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                        <div class="materialListRow mb-2">
                          <div class="mediaAvatarSec">
                            <img
                              src="assets/img/play-button.png"
                              alt="media"
                              width="40"
                            />
                          </div>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 55%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                        <div class="materialListRow">
                          <div class="mediaAvatarSec">
                            <img src="assets/img/course.jpg" alt="media" />
                          </div>
                          <div class="progress">
                            <div
                              class="progress-bar progress-bar-striped bg-dark"
                              role="progressbar"
                              style="width: 80%"
                              aria-valuenow="25"
                              aria-valuemin="0"
                              aria-valuemax="100"
                            ></div>
                          </div>
                          <a class="btn btn-dark text-white"
                            ><i class="fas fa-trash-alt"></i
                          ></a>
                        </div>
                      </div>
                      <div class="custom-file mt-4">
                        <input
                          type="file"
                          class="custom-file-input"
                          id="customFile"
                        />
                        <label class="custom-file-label" for="customFile"
                          >Choose file</label
                        >
                      </div>
                      <small class="text-muted"
                        >You can Upload any type of Media</small
                      >
                    </div>
                  </div>
                </div>
                <div class="componentRow"></div>
              </div>
              <div class="d-none">
                <hr />
                <button
                  class="btn btn-dark"
                  type="button"
                  (click)="onOpenContentModal()"
                >
                  <i class="fas fa-plus-circle iconLeft"></i>Add Lesson
                  Component
                </button>
              </div>
              <div class="text-center mt-4">
                <button
                  class="btn btn-green"
                  type="button"
                  [disabled]="lessonForm?.invalid"
                  (click)="onSave()"
                >
                  Save
                </button>
                <!-- <button class="btn btn-dark" type="button">Cancel</button> -->
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<lms-content-block-popup
  (addContentBlock)="onAddBlockContent($event)"
></lms-content-block-popup>
